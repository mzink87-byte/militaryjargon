<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Military Jargon</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Header -->
  <header>
    <h1>Military Jargon</h1>
    <p>Search acronyms and terms</p>
    <div id="stars"></div> <!-- ⭐ Stars go here -->
  </header>

  <!-- Search bar -->
  <div class="search-container">
    <input type="text" id="searchInput" placeholder="Search acronyms...">
  </div>
  <div class="search-options">
    <label>
      <input type="checkbox" id="searchInMeanings" checked>
      Search in meanings & descriptions
    </label>
  </div>

  <!-- Results -->
  <main>
    <div class="cards-container" id="results"></div>
  </main>

  <!-- Footer -->
  <footer>
    <p><strong>Military Jargon</strong> – Clear Terms. Clean Definitions.</p>
  </footer>

  <!-- Script -->
  <script>
    async function loadAcronyms() {
      const response = await fetch("acronyms.json");
      return await response.json();
    }

    function createCard(item) {
      const card = document.createElement("div");
      card.className = "card";

      // Acronym
      const title = document.createElement("h2");
      title.textContent = item.acronym;
      card.appendChild(title);

      // Meaning
      const meaning = document.createElement("div");
      meaning.className = "meaning";
      meaning.textContent = item.meaning;
      card.appendChild(meaning);

      // Description
      const desc = document.createElement("div");
      desc.className = "description";
      desc.textContent = item.description;
      card.appendChild(desc);

      // Reference (optional)
      if (item.reference) {
        const ref = document.createElement("div");
        ref.className = "example";
        ref.textContent = `Reference: ${item.reference}`;
        card.appendChild(ref);
      }

      return card;
    }

    async function initSearch() {
      const data = await loadAcronyms();
      const searchInput = document.getElementById("searchInput");
      const resultsContainer = document.getElementById("results");
      const searchInMeanings = document.getElementById("searchInMeanings");

      function search() {
        const query = searchInput.value.trim().toLowerCase();
        resultsContainer.innerHTML = "";

        if (!query) return;

        const results = data.filter(item => {
          const inAcronym = item.acronym.toLowerCase().includes(query);
          const inMeaning = item.meaning.toLowerCase().includes(query);
          const inDesc = item.description.toLowerCase().includes(query);
          return inAcronym || (searchInMeanings.checked && (inMeaning || inDesc));
        });

        if (results.length === 0) {
          resultsContainer.innerHTML = "<p>No results found.</p>";
        } else {
          results.forEach(item => resultsContainer.appendChild(createCard(item)));
        }
      }

      // Run search as you type
      searchInput.addEventListener("input", search);
    }

    initSearch();
  </script>
</body>
</html>
